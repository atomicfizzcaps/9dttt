<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- Primary Meta Tags -->
    <title>Ultimate Tic-Tac-Toe - 9D Strategic Multiplayer Game | 9DTTT</title>
    <meta name="title" content="Ultimate Tic-Tac-Toe - 9D Strategic Multiplayer Game | 9DTTT">
    <meta name="description" content="Play Ultimate Tic-Tac-Toe online free! Strategic 9-board game where your move determines opponent's board. Real-time multiplayer, accessible, no download required.">
    <meta name="keywords" content="ultimate tic-tac-toe, 9d tic-tac-toe, strategic tic-tac-toe, multiplayer tic-tac-toe, online tic-tac-toe, free tic-tac-toe game">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.d9ttt.com/games/ultimate-tictactoe.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.d9ttt.com/games/ultimate-tictactoe.html">
    <meta property="og:title" content="Ultimate Tic-Tac-Toe - 9D Strategic Multiplayer Game">
    <meta property="og:description" content="Play Ultimate Tic-Tac-Toe online free! Strategic 9-board game where your move determines opponent's board.">
    <meta property="og:image" content="https://www.d9ttt.com/icon.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.d9ttt.com/games/ultimate-tictactoe.html">
    <meta property="twitter:title" content="Ultimate Tic-Tac-Toe - 9D Strategic Multiplayer Game">
    <meta property="twitter:description" content="Play Ultimate Tic-Tac-Toe online free! Strategic 9-board game where your move determines opponent's board.">
    <meta property="twitter:image" content="https://www.d9ttt.com/icon.jpg">
    
    <!-- Mobile App -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0e27">
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="../icon.jpg">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/ultimate-tictactoe.css">
    <link rel="stylesheet" href="../css/game-ui.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Game",
        "name": "Ultimate Tic-Tac-Toe",
        "alternateName": "9D Tic-Tac-Toe",
        "description": "Strategic 9-board multiplayer tic-tac-toe where your move determines your opponent's next board",
        "gamePlatform": "Web Browser",
        "numberOfPlayers": "2",
        "playMode": "MultiPlayer",
        "url": "https://www.d9ttt.com/games/ultimate-tictactoe.html",
        "genre": "Strategy Game",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
</head>
<body>
    <!-- Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="container">
        <!-- Header -->
        <header role="banner">
            <h1>9D Tic-Tac-Toe</h1>
            <p class="subtitle">9 Dimensional Tic-Tac-Toe</p>
        </header>

        <!-- Game Info -->
        <div class="game-info" role="status" aria-live="polite">
            <div class="current-player">
                <span id="turn-indicator">Current Player: <span class="player-x">X</span></span>
            </div>
            <div class="score-board">
                <div class="score-item">
                    <span class="player-x">X:</span>
                    <span class="score-value player-x" id="score-x">0</span>
                </div>
                <div class="score-item">
                    <span class="player-o">O:</span>
                    <span class="score-value player-o" id="score-o">0</span>
                </div>
            </div>
        </div>

        <!-- Main Game Board -->
        <main id="main-content" role="main">
            <div class="ultimate-board" id="ultimate-board" role="grid" aria-label="9D Tic-Tac-Toe game board with 9 sub-boards">
                <!-- Boards will be generated by JavaScript -->
            </div>

            <!-- Controls -->
            <div class="controls">
                <button id="new-game-btn" aria-label="Start a new game">New Game</button>
                <button id="toggle-instructions-btn" class="secondary" aria-label="Toggle game instructions">How to Play</button>
            </div>

            <!-- Instructions (collapsible) -->
            <div class="instructions" id="instructions" style="display: none;">
                <h2>How to Play</h2>
                <ul>
                    <li><strong>Objective:</strong> Win the most small boards to win the overall game!</li>
                    <li><strong>Starting:</strong> Player X begins and can play on any board.</li>
                    <li><strong>Next Move Rule:</strong> The position you play in determines which board your opponent must play on next. (e.g., play in top-right cell → opponent plays on top-right board)</li>
                    <li><strong>Active Board:</strong> The board where you must play is highlighted in gold.</li>
                    <li><strong>Board Full/Won:</strong> If sent to a completed board, you can play anywhere!</li>
                    <li><strong>Winning:</strong> Get 3 boards in a row (horizontally, vertically, or diagonally) to win!</li>
                    <li><strong>Scoring:</strong> Win a small board = 1 point. Win the overall game for bonus points!</li>
                    <li><strong>Keyboard:</strong> Use Tab to navigate cells, Enter/Space to play.</li>
                </ul>
            </div>
        </main>

        <!-- Game Over Modal -->
        <div class="modal" id="game-over-modal" role="dialog" aria-labelledby="modal-title" aria-modal="true">
            <div class="modal-content">
                <h2 id="modal-title">Game Over!</h2>
                <p id="modal-message"></p>
                <button id="modal-new-game-btn" aria-label="Start a new game">Play Again</button>
            </div>
        </div>

        <!-- Footer -->
        <footer role="contentinfo">
            <p>&copy; 2026 9D Tic-Tac-Toe | Accessible Gaming</p>
            <p><a href="../index.html" style="color: #4a90e2; text-decoration: none;">← Back to Game Library</a></p>
        </footer>
    </div>

    <!-- UNIFIED SCRIPT LOADING -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    
    <script src="../js/unified-auth.js"></script>
    <script src="../js/auth-ui.js"></script>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="../js/gamepad-manager.js"></script>
    <script src="../js/controller-guide.js"></script>
    <script src="../js/advanced-graphics.js"></script>
    <script src="../js/game-error-handler.js"></script>
    <script src="../js/accessibility-manager.js"></script>
    <script src="../js/game-engine.js"></script>
    <script src="../js/multiplayer-client.js"></script>
    <script src="../js/game-ui.js"></script>
    <script src="../js/game-init.js"></script>
    <script src="../js/ultimate-tictactoe.js"></script>
</body>
</html>
