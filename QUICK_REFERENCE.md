# üöÄ Quick Deployment Reference

## URLs

- **Frontend (Vercel)**: <https://d9ttt.com>
- **Backend (Render)**: <https://9dttt.onrender.com>


---

## Deploy Commands

### Deploy Everything (Recommended)

```bash
./deploy.sh
```

### Deploy Backend Only

```bash
git push origin main
# Render auto-deploys in ~2 minutes
```

### Deploy Frontend Only

```bash
vercel --prod
# Or just push to GitHub
```

---

## Local Development

```bash
# Start backend (port 3000)
npm start

# Frontend uses http://localhost:3000
# Backend APIs at http://localhost:3000/api
```

---

## Check Status

```bash
# Backend health
curl https://9dttt.onrender.com/api/health

# Frontend
curl https://d9ttt.com

# API proxy (through Vercel)
curl https://d9ttt.com/api/health
```

---

## Configuration Files

| File | Purpose | Deployed To |
| ------ | --------- | ------------- |
| `vercel.json` | Frontend config + API proxy | Vercel |
| `render.yaml` | Backend config | Render |
| `server.js` | Backend server | Render |
| `Public/` | Static files | Vercel |

---

## Important Environment Variables

### Render (Backend)

```env
FRONTEND_URL=https://d9ttt.com
JWT_SECRET=<auto-generated>
PORT=10000
NODE_ENV=production
```

### Vercel (Frontend)

No env vars needed! API calls are proxied via `vercel.json`

---

## Troubleshooting

### API Calls Failing

1. Check Render backend is running
2. Verify FRONTEND_URL in Render env vars
3. Check vercel.json rewrites

### CORS Errors

1. Update FRONTEND_URL in Render
2. Add your domain to allowed origins in server.js

### WebSocket Not Connecting

1. Verify socket.io proxy in vercel.json
2. Check CORS settings in server.js

---

## File Changes Summary

### New Files

- ‚úÖ `Public/js/unified-auth.js` - Single auth system
- ‚úÖ `Public/js/auth-ui.js` - Modern login UI
- ‚úÖ `Public/js/game-init.js` - Universal initializer
- ‚úÖ `Public/js/api-config.js` - Auto-detect API endpoints
- ‚úÖ `deploy.sh` - One-command deployment
- ‚úÖ `DEPLOYMENT_SPLIT.md` - Full guide

### Updated Files

- ‚úÖ `vercel.json` - Static-only + API proxy
- ‚úÖ `render.yaml` - Backend-only config
- ‚úÖ `server.js` - CORS for split deployment
- ‚úÖ `index.html` - Unified auth scripts
- ‚úÖ All game HTML files - Use unified auth

### Removed Duplication

- ‚ùå `firebase-init.js` (merged into unified-auth)
- ‚ùå `browser-auth-init.js` (merged into unified-auth)
- ‚ùå `universal-auth.js` (replaced by unified-auth)
- ‚ùå `auth-client.js` (compatibility layer in unified-auth)

---

## Next Steps

1. ‚úÖ Push code to GitHub
2. ‚¨ú Deploy to Render (automatic)
3. ‚¨ú Deploy to Vercel (automatic)
4. ‚¨ú Set custom domain in Vercel
5. ‚¨ú Update FRONTEND_URL in Render
6. ‚¨ú Test auth flow end-to-end
7. ‚¨ú Monitor logs for issues

---

Need help? Check [DEPLOYMENT_SPLIT.md](DEPLOYMENT_SPLIT.md) for the full guide!
