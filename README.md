# 9DTTT Game Platform 

<div align="center">

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                              â•‘
â•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—   â•‘
â•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â•‘
â•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â•‘
â•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â•‘
â•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â•‘
â•‘    â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•   â•‘
â•‘                                                              â•‘
â•‘              Q U A R T E T   S T U D I O S                   â•‘
â•‘                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**A Bastion Quartet Production**

*Strategic multiplayer gaming platform featuring accessible and competitive games*

[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy)

</div>

---

## ğŸ® About

**Version 2.0 - Full Stack Edition** ğŸš€

9DTTT (Nine Dimensional Tic-Tac-Toe Tournament Tournament Tournament) has evolved into a comprehensive full-stack game platform featuring 31 games, complete backend API, and real interactive educational experiences.

### ğŸ†• What's New in v2.0

#### Full-Stack Architecture
- âœ… **Vercel-Ready Deployment** - One-command serverless deployment
- âœ… **Real API Backend** - RESTful endpoints for auth, leaderboards, stats, and progress
- âœ… **Admin Dashboard** - Real-time platform monitoring at `/admin.html`
- âœ… **Cloud Sync** - Player progress saves across devices
- âœ… **JWT Authentication** - Secure login with guest mode fallback

#### Enhanced Crypto Quest Academy
Completely rebuilt with **actual interactive gameplay** instead of text screens:
- ğŸ® **Mining Simulator** - Click-to-mine with real hashrate upgrades
- â›“ï¸ **Blockchain Builder** - Visually build and validate blockchain
- ğŸ‘› **Wallet Creator** - Generate realistic wallets with seed phrases
- ğŸ“ˆ **Trading Academy** - Live charts, buy/sell tokens, manage portfolio
- ğŸ›¡ï¸ **Scam Detector** - Interactive quiz to identify crypto scams
- ğŸ¨ **NFT Studio** - Create and mint NFTs *(coming soon)*
- ğŸ’° **DeFi Farming** - Stake and earn yield *(coming soon)*
- ğŸ›ï¸ **DAO Builder** - Create governance proposals *(coming soon)*

### API Endpoints
```
GET  /api/health                   - Health check
GET  /api/stats                    - Platform statistics  
GET  /api/leaderboard              - Global leaderboard
POST /api/leaderboard              - Submit high score
POST /api/auth/login               - Login/register
GET  /api/crypto-quest/progress    - Load player progress
POST /api/crypto-quest/progress    - Save player progress
```

### Quick Deploy to Vercel
```bash
npm install -g vercel
vercel --prod
```

See [README_DEPLOYMENT.md](README_DEPLOYMENT.md) for detailed deployment guide.

---

### Original Platform Description

**9DTTT** is a real-time multiplayer game platform developed by **Bastion Quartet**. Our mission is to create engaging, accessible, and strategic games that bring players together.

### Features

- ğŸ¯ **Real-time Multiplayer** - Challenge friends or find opponents worldwide
- ğŸ’¬ **In-Game Chat** - Communicate with opponents and the community
- ğŸ† **Leaderboards** - Compete for the top spot
- ğŸ‘¤ **Player Profiles** - Custom avatars, stats tracking, and achievements
- ğŸ–¼ï¸ **Avatar Uploads** - Upload your own profile picture (JPEG, PNG, GIF, WebP)
- ğŸ” **Social Login** - Sign in with Google or Apple (FREE via Firebase)
- ğŸ›¡ï¸ **Safe Community** - Comprehensive moderation and anti-abuse systems
- â™¿ **Fully Accessible** - Keyboard navigation, screen reader support, and more
- ğŸ¨ **Cosmetics** - Unlock avatar frames, board themes, and player icons
- ğŸ’° **Player-Friendly Monetization** - Ad-free base experience with optional rewards

---

## ğŸ® Current Games

### Ultimate Tic-Tac-Toe (9D TTT)

A strategic 9-board tic-tac-toe where your move determines your opponent's next board!

| Feature | Description |
|---------|-------------|
| **Players** | 2 |
| **Boards** | 9 mini-boards in a 3Ã—3 grid |
| **Rule** | Your cell choice sends opponent to that board |
| **Scoring** | Points = moves in section when won (max 9 per section) |
| **Max Points** | 81 total (9 sections Ã— 9 moves) |
| **Win Condition** | Most points when all sections complete |

### Coming Soon
- ğŸ² 4D Chess
- ğŸ§© Quantum Sudoku  
- ğŸ¯ Dimensional Dice
- ğŸŒ€ Recursive Maze
- ğŸ”® Crystal Connect

---

## ğŸš€ Quick Start

### Deploy to Render (Recommended)

1. Fork this repository
2. Create a new Web Service on [Render](https://render.com)
3. Connect your GitHub repo
4. Configure:
   - **Runtime:** Node
   - **Build Command:** `npm install`
   - **Start Command:** `npm start`
   - **Instance Type:** Free (or higher for production)
5. Add environment variables (see below)
6. Deploy!

### Local Development

```bash
# Clone the repository
git clone https://github.com/Unwrenchable/9dttt.git
cd 9dttt

# Install dependencies
npm install

# Start the server
npm start

# Visit http://localhost:3000
```

---

## âš™ï¸ Configuration

### Environment Variables

| Variable | Description | Required |
|----------|-------------|----------|
| `PORT` | Server port (default: 3000) | No |
| `NODE_ENV` | Environment (development/production) | No |
| `JWT_SECRET` | Secret for JWT tokens | Yes (production) |
| `REDIS_URL` | Redis connection URL for persistence | No |
| `RENDER_EXTERNAL_URL` | Your Render app URL (for keep-alive) | No |

### Firebase Authentication (FREE - Up to 50,000 users)

Firebase Authentication provides secure social login with **no extra fees**. It's completely free for up to 50,000 monthly active users.

**Supported Sign-In Methods:**
- ğŸ” Google Sign-In
- ğŸ Apple Sign-In
- ğŸ“§ Email/Password

#### Quick Setup (5 minutes)

1. Go to [Firebase Console](https://console.firebase.google.com)
2. Create a new project (or select existing)
3. Go to **Authentication** â†’ **Sign-in method**
   - Enable **Google** (click, enable, save)
   - Enable **Apple** (optional - requires Apple Developer account)
4. Go to **Project Settings** â†’ **General** â†’ **Your apps** â†’ Click **Add app** â†’ Select **Web**
5. Copy the config values to your `.env`:

```bash
# âœ… SAFE TO EXPOSE: These values are public by design
FIREBASE_API_KEY=AIzaSyD...
FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
FIREBASE_PROJECT_ID=your-project-id
```

That's it! Players can now sign in with their Google or Apple accounts.

**Note:** Firebase API keys are meant to be public - see [OAUTH_SECURITY.md](./OAUTH_SECURITY.md) for explanation.

---

## ğŸ’° Monetization

Our player-friendly monetization philosophy:

| Feature | Description |
|---------|-------------|
| **Base Experience** | Completely ad-free - no forced ads ever |
| **Rewarded Ads** | Optional: Watch ad â†’ 1 hour ad-free, XP boost, or cosmetic |
| **Battle Pass** | Free, Premium ($4.99), Ultimate ($9.99) tiers |
| **Cosmetics** | Avatar frames, board themes, player icons |
| **Fair Play** | No pay-to-win - all purchases are cosmetic only |

### API Endpoints

```
GET  /api/monetization/status     - Check ad-free status & unlocks
POST /api/monetization/ad-reward  - Record ad view, receive reward
GET  /api/monetization/cosmetics  - List available cosmetics
POST /api/monetization/equip      - Equip a cosmetic item
POST /api/profile/avatar          - Upload custom avatar
DELETE /api/profile/avatar        - Reset to default avatar
```

---

## ğŸ”’ Security

The platform implements comprehensive security measures:

### Headers & Protocols
| Security Feature | Implementation |
|------------------|----------------|
| **HTTPS** | Automatic redirect in production |
| **HSTS** | 1-year max-age with preload |
| **CSP** | Content Security Policy headers |
| **XSS** | X-XSS-Protection enabled |
| **Clickjacking** | X-Frame-Options: SAMEORIGIN |
| **MIME Sniffing** | X-Content-Type-Options: nosniff |
| **Referrer** | strict-origin-when-cross-origin |
| **Permissions** | Restrictive Permissions-Policy |
| **Cross-Origin** | COOP & CORP headers |

### Application Security
- âœ… Rate limiting on all endpoints
- âœ… Bot detection (timing analysis, honeypot fields)
- âœ… Input sanitization (iterative HTML tag removal)
- âœ… Failed login tracking with automatic lockout
- âœ… JWT token authentication
- âœ… CSRF protection for OAuth flows
- âœ… Password hashing with bcrypt (cost factor 10)

---

## ğŸ“ Project Structure

```
9dttt/
â”œâ”€â”€ Public/                    # Static frontend files
â”‚   â”œâ”€â”€ index.html            # Main game library
â”‚   â”œâ”€â”€ maintenance.html      # Maintenance page with mini-game
â”‚   â”œâ”€â”€ css/                  # Stylesheets
â”‚   â”œâ”€â”€ js/                   # Client-side JavaScript
â”‚   â””â”€â”€ games/                # Individual game pages
â”œâ”€â”€ server/                   # Backend modules
â”‚   â”œâ”€â”€ config.js            # Configuration
â”‚   â”œâ”€â”€ storage.js           # Data persistence (Redis/Memory)
â”‚   â”œâ”€â”€ auth.js              # Authentication & profiles
â”‚   â”œâ”€â”€ oauth.js             # Social login (OAuth2)
â”‚   â”œâ”€â”€ gameManager.js       # Game logic & matchmaking
â”‚   â”œâ”€â”€ moderation.js        # Block, report, discipline
â”‚   â”œâ”€â”€ security.js          # Rate limiting, bot protection, headers
â”‚   â”œâ”€â”€ monetization.js      # Ads, cosmetics, battle pass
â”‚   â”œâ”€â”€ keepAlive.js         # Prevent Render sleeping
â”‚   â””â”€â”€ boot.js              # ASCII boot sequence
â”œâ”€â”€ server.js                # Main server entry point
â”œâ”€â”€ package.json
â”œâ”€â”€ render.yaml              # Render deployment config
â””â”€â”€ README.md
```

---

## ğŸ—ï¸ Architecture

### Backend
- **Express.js** - Web server and REST API
- **Socket.io** - Real-time multiplayer communication
- **Redis** - Optional persistence layer (falls back to in-memory)
- **JWT** - Secure authentication tokens
- **bcrypt** - Password hashing

### Frontend
- **Vanilla JavaScript** - No framework dependencies
- **CSS Custom Properties** - Easy theming
- **Progressive Enhancement** - Works without JavaScript for basic content

---

## â™¿ Accessibility

All games include:
- âœ… Full keyboard navigation
- âœ… ARIA labels and roles
- âœ… Screen reader announcements
- âœ… High contrast mode
- âœ… Reduced motion preferences
- âœ… Mobile-responsive design
- âœ… Focus management

---

## ğŸ“± Mobile App

This platform can be installed as an app:

### PWA (Progressive Web App)
Users can "Add to Home Screen" for an app-like experience with offline support.

### Native App (Capacitor)
```bash
npm install @capacitor/core @capacitor/cli
npx cap init
npx cap add ios android
npx cap sync
```

---

## ğŸ›¡ï¸ Moderation

The platform includes comprehensive moderation tools:

| Feature | Description |
|---------|-------------|
| **Block Players** | Prevent all interactions with specific users |
| **Report System** | Report harassment, cheating, spam, inappropriate content |
| **Discipline Ladder** | Warning â†’ Mute â†’ Temp Ban â†’ Permanent Ban |
| **Auto-Moderation** | Automatic action on multiple reports |

### Report Categories
- Harassment / Bullying
- Cheating / Exploits
- Spam / Flooding
- Inappropriate Content
- Other

---

## ğŸ“š Documentation

- **[OAUTH_SECURITY.md](./OAUTH_SECURITY.md)** - Understanding OAuth security and why API keys in URLs are safe
- **[TROUBLESHOOTING.md](./TROUBLESHOOTING.md)** - Fixing common issues with Google/Apple login
- **[FIREBASE_SETUP.md](./FIREBASE_SETUP.md)** - Setting up Firebase authentication
- **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)** - Deploying to production
- **[README_DEPLOYMENT.md](./README_DEPLOYMENT.md)** - Additional deployment information

---

## ğŸ“„ License

MIT License - Free to use and modify.

---

## ğŸ¤ Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

<div align="center">

**Built with â¤ï¸ by Bastion Quartet**

*Strategic Gaming for Everyone*

[ğŸ® Play Now](https://ninedttt.onrender.com) â€¢ [ğŸ› Report Bug](https://github.com/Unwrenchable/9dttt/issues) â€¢ [ğŸ’¡ Request Feature](https://github.com/Unwrenchable/9dttt/issues)

</div>
